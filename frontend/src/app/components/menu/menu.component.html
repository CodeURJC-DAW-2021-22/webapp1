<div class="bodyBig">
    <div class="wrapper">
        <header>
            <div class="AdviceMeLogo">
                <a id="logo" [routerLink]="['/']" fragment="home"><img src="/assets/Images/AdviceMe Logo.png" alt="Logo Image"></a>
            </div>
            <nav class="main-nav">
                <a [routerLink]="['/']" fragment="home">Home</a>
                <a [routerLink]="['/']" fragment="action">Action</a>
                <a [routerLink]="['/']" fragment="adventure">Adventure</a>
                <a [routerLink]="['/']" fragment="animation">Animation</a>
                <a [routerLink]="['/']" fragment="comedy">Comedy</a>
                <a [routerLink]="['/']" fragment="drama">Drama</a>
                <a [routerLink]="['/']" fragment="horror">Horror</a>
                <a [routerLink]="['/']" fragment="scienceFiction">Science Fiction</a>
            </nav>
            <nav class="sub-nav">
                <input [(ngModel)]="fieldText" type="text" name="query" placeholder="Search...">
                <button [routerLink]="['/searchFilms', fieldText]">
                    <i class="fas fa-search sub-nav-logo"></i>
                </button>
                <a *ngIf="unregistered" [routerLink]="['/login']">Login</a>
                <a *ngIf="registered" [routerLink]="['/profile']">Account</a>
                <a *ngIf="admin" [routerLink]="['/addFilm']">Post Film</a>
                <input *ngIf="admin" (click)="logout()" value="Sign out"/>
            </nav>
        </header>
        
        <section class="main-container" >
            <h1 id="home">Most Commented Genres</h1>
            <div id="piechart">
                <ngx-charts-pie-chart
                    [view]="[800, 500]"
                    scheme="picnic"
                    [results]="data"
                    [gradient]="false"
                    [legend]="true"
                    [labels]="true"
                    [doughnut]="false"
                >
                </ngx-charts-pie-chart>
            </div>

            <div *ngIf="registered">
                <h1 id="recommendations">Recommendations for you</h1>
                <div class="box">
                    <a *ngFor="let film of recommendations" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
                    <p *ngIf="recommendations.length == 0" >There are no recommendations for you yet</p>
                </div>
                
                <button *ngIf="recommendations.length != 0" (click)="loadMoreRecommendations('indexRecommendations')" id='btnRecommendation' class='btnSubmit'>More Films</button>
                <div *ngIf="loaderRecommendations" class="lds-dual-ring overlay"></div>
            </div>

            <h1 id="trending">Trending Now</h1>
            <div class="box">
                <a *ngFor="let film of trending" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <button (click)="loadMore('indexTrending')" id='btnTrending' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderTrending" class="lds-dual-ring overlay"></div>

            <h1 id="action">Action</h1>
            <div class="box" >
                <a *ngFor="let film of action" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>
            
            <button (click)="loadMoreGenre('indexAction', 'ACTION')" id='btnAction' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderAction" class="lds-dual-ring overlay"></div>

            <h1 id="adventure">Adventure</h1>
            <div class="box" >
                <a *ngFor="let film of adventure" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <button (click)="loadMoreGenre('indexAdventure', 'ADVENTURE')" id='btnAdventure' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderAdventure" class="lds-dual-ring overlay"></div>
            
            <h1 id="animation">Animation</h1>
            <div class="box" >
                <a *ngFor="let film of animation" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <button (click)="loadMoreGenre('indexAnimation', 'ANIMATION')" id='btnAnimation' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderAnimation" class="lds-dual-ring overlay"></div>

            <h1 id="comedy">Comedy</h1>
            <div class="box" >
                <a *ngFor="let film of comedy" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <button (click)="loadMoreGenre('indexComedy', 'COMEDY')" id='btnComedy' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderComedy" class="lds-dual-ring overlay"></div>

            <h1 id="drama">Drama</h1>
            <div class="box" >
                <a *ngFor="let film of drama" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <div id="moreFilmsDrama"></div>
            <button (click)="loadMoreGenre('indexDrama', 'DRAMA')" id='btnDrama' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderDrama" class="lds-dual-ring overlay"></div>

            <h1 id="horror">Horror</h1>
            <div class="box" >
                <a *ngFor="let film of horror" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <button (click)="loadMoreGenre('indexHorror', 'HORROR')" id='btnHorror' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderHorror" class="lds-dual-ring hidden overlay"></div>

            <h1 id="scienceFiction">Science Fiction</h1>
            <div class="box" >
                <a *ngFor="let film of scifi" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>
            
            <button (click)="loadMoreGenre('indexScifi','SCIENCE_FICTION')" id='btnScifi' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderScifi" class="lds-dual-ring overlay"></div>
        </section>
    </div>
</div>