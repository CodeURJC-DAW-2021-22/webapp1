<div class="bodyBig">
    <div class="wrapper">
        <header *ngIf="unregistered">
            <div class="AdviceMeLogo">
                <a id="logo" [routerLink]="['/']" fragment="home"><img src="/assets/Images/AdviceMe Logo.png" alt="Logo Image"></a>
            </div>
            <nav class="main-nav">
                <a [routerLink]="['/']" fragment="home">Home</a>
                <a [routerLink]="['/']" fragment="action">Action</a>
                <a [routerLink]="['/']" fragment="adventure">Adventure</a>
                <a [routerLink]="['/']" fragment="animation">Animation</a>
                <a [routerLink]="['/']" fragment="comedy">Comedy</a>
                <a [routerLink]="['/']" fragment="drama">Drama</a>
                <a [routerLink]="['/']" fragment="horror">Horror</a>
                <a [routerLink]="['/']" fragment="scienceFiction">Science Fiction</a>
            </nav>
            <nav class="sub-nav">
                <form action="/searchFilms">
                    <input type="text" name="query" [(ngModel)]="fieldText" placeholder="Search...">
                    <button [routerLink]="['/searchFilms/' + fieldText]" type="submit">
                        <i class="fas fa-search sub-nav-logo"></i>
                    </button>
                    <a [routerLink]="['/login']">Login</a>
                </form>
            </nav>
        </header>
        <header *ngIf="registered">
            <div class="AdviceMeLogo">
                <a id="logo" [routerLink]="['/menuRegistered']" fragment="home"><img src="/assets/Images/AdviceMe Logo.png" alt="Logo Image"></a>
            </div>
            <nav id="navPrincipal" class="main-nav">
                <a [routerLink]="['/menuRegistered']" fragment="home">Home</a>
                <a [routerLink]="['/menuRegistered']" fragment="action">Action</a>
                <a [routerLink]="['/menuRegistered']" fragment="adventure">Adventure</a>
                <a [routerLink]="['/menuRegistered']" fragment="animation">Animation</a>
                <a [routerLink]="['/menuRegistered']" fragment="comedy">Comedy</a>
                <a [routerLink]="['/menuRegistered']" fragment="drama">Drama</a>
                <a [routerLink]="['/menuRegistered']" fragment="horror">Horror</a>
                <a [routerLink]="['/menuRegistered']" fragment="scienceFiction">Science Fiction</a>
            </nav>
            <nav class="sub-nav">
                <form action="/searchFilms">
                    <input type="text" name="query" [(ngModel)]="fieldText" placeholder="Search...">
                    <button [routerLink]="['/searchFilms/' + fieldText]" type="submit">
                        <i class="fas fa-search sub-nav-logo"></i>
                    </button>
                    <a [routerLink]="['/profile']">Account</a>
                </form>
                <button (click)="logout()"> Sign out</button>
            </nav>
        </header>
        <header *ngIf="admin">
            <div class="AdviceMeLogo">
                <a id="logo" [routerLink]="['/menuAdmin']" fragment="home"><img src="assets/Images/AdviceMe Logo.png" alt="Logo Image"></a>
            </div>
            <nav class="main-nav">
                <a [routerLink]="['/menuAdmin']" fragment="home">Home</a>
                <a [routerLink]="['/menuAdmin']" fragment="action">Action</a>
                <a [routerLink]="['/menuAdmin']" fragment="adventure">Adventure</a>
                <a [routerLink]="['/menuAdmin']" fragment="animation">Animation</a>
                <a [routerLink]="['/menuAdmin']" fragment="comedy">Comedy</a>
                <a [routerLink]="['/menuAdmin']" fragment="drama">Drama</a>
                <a [routerLink]="['/menuAdmin']" fragment="horror">Horror</a>
                <a [routerLink]="['/menuAdmin']" fragment="scienceFiction">Science Fiction</a>
            </nav>
            <nav class="sub-nav">
                <form action="/searchFilms">
                    <input type="text" name="query" [(ngModel)]="fieldText" placeholder="Search...">
                    <button [routerLink]="['/searchFilms/' + fieldText]" type="submit">
                        <i class="fas fa-search sub-nav-logo"></i>
                    </button>
                    <a href="/addFilm">Post Film</a>
                </form>
                <button (click)="logout()"> Sign out</button>
                <!--
                <form action="/logout" method="post">
                        <input type="submit" value="Sign out" />
                        <input type="hidden" name="_csrf" value="{{token}}" />
                </form>-->
            </nav>
        </header>
        <section class="main-container" >
            <h1 id="home">Most Commented Genres</h1>
            <div id="piechart">
                <ngx-charts-pie-chart
                    [view]="[800, 500]"
                    scheme="picnic"
                    [results]="data"
                    [gradient]="false"
                    [legend]="true"
                    [labels]="true"
                    [doughnut]="false"
                >
                </ngx-charts-pie-chart>
            </div>

            <div *ngIf="registered">
                <h1 id="recommendations">Recommendations for you</h1>
                <div class="box">
                    <a *ngFor="let film of recommendations" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
                    <p *ngIf="isEmpty(recommendations)" >There are no recommendations for you yet</p>
                </div>
                
                <button (click)="loadMoreRecommendations('indexRecommendations')" id='btnRecommendation' class='btnSubmit'>More Films</button>
                <div *ngIf="loaderRecommendations" class="lds-dual-ring overlay"></div>
            </div>

            <h1 id="trending">Trending Now</h1>
            <div class="box">
                <a *ngFor="let film of trending" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <button (click)="loadMore('indexTrending')" id='btnTrending' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderTrending" class="lds-dual-ring overlay"></div>

            <h1 id="action">Action</h1>
            <div class="box" >
                <a *ngFor="let film of action" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>
            
            <button (click)="loadMoreGenre('indexAction', 'ACTION')" id='btnAction' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderAction" class="lds-dual-ring overlay"></div>

            <h1 id="adventure">Adventure</h1>
            <div class="box" >
                <a *ngFor="let film of adventure" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <button (click)="loadMoreGenre('indexAdventure', 'ADVENTURE')" id='btnAdventure' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderAdventure" class="lds-dual-ring overlay"></div>
            
            <h1 id="animation">Animation</h1>
            <div class="box" >
                <a *ngFor="let film of animation" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <button (click)="loadMoreGenre('indexAnimation', 'ANIMATION')" id='btnAnimation' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderAnimation" class="lds-dual-ring overlay"></div>

            <h1 id="comedy">Comedy</h1>
            <div class="box" >
                <a *ngFor="let film of comedy" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <button (click)="loadMoreGenre('indexComedy', 'COMEDY')" id='btnComedy' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderComedy" class="lds-dual-ring overlay"></div>

            <h1 id="drama">Drama</h1>
            <div class="box" >
                <a *ngFor="let film of drama" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <div id="moreFilmsDrama"></div>
            <button (click)="loadMoreGenre('indexDrama', 'DRAMA')" id='btnDrama' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderDrama" class="lds-dual-ring overlay"></div>

            <h1 id="horror">Horror</h1>
            <div class="box" >
                <a *ngFor="let film of horror" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>

            <button (click)="loadMoreGenre('indexHorror', 'HORROR')" id='btnHorror' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderHorror" class="lds-dual-ring hidden overlay"></div>

            <h1 id="scienceFiction">Science Fiction</h1>
            <div class="box" >
                <a *ngFor="let film of scifi" [routerLink]="['/films', film.id]"><img [src]="filmImage(film)"></a>
            </div>
            
            <button (click)="loadMoreGenre('indexScifi','SCIENCE_FICTION')" id='btnScifi' class='btnSubmit'>More Films</button>
            <div *ngIf="loaderScifi" class="lds-dual-ring overlay"></div>
        </section>
    </div>

</div>